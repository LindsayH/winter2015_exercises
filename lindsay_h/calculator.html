<html>
<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">


    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script> 
  
  <script>
    $(document).ready(function(){
      var $display = $('#calculator_form input[name=display_textfield]');
      var $first_operand = $('#calculator_form input[name=operand]').eq(0); // eq(number) returns a jquery object
      var $operator = $('#calculator_form input[name=operator]');
      var still_there;

      $('#calculator_form input[name=digit]').click(function(){
        if ( !parseFloat( $display.val() )){
        // if ($display.val().match(/[\+\-\/\*]/)){
          $display.val('');
        }
        if ( still_there == 1){
          $('#clear_button').click();
            still_there = 0;
        }
        var digit_value = this.value;
        var previous_display_value = $display[0].value; // Getting a selection like an array or with get(number) returns the DOM element 
        $display.val(previous_display_value + digit_value);
      });

      $('#calculator_form input[name=operator_button]').click(function(){
        $operator.val(this.value); 
        $first_operand.val($display.val());
        $display.val(this.value); // Erase the display
      });

      $('#result_button').click(function(){
        var $second_operand = $display;
        still_there = 1;
        

        var result;   

        switch($operator.val()){
          case '+':
            result = parseFloat($first_operand.val()) + parseFloat($second_operand.val());
            break;
          case '-':
            result = parseFloat($first_operand.val()) - parseFloat($second_operand.val());
            break;
          case '/':
            result = parseFloat($first_operand.val()) / parseFloat($second_operand.val());
            break;
          case '*':
            result = parseFloat($first_operand.val()) * parseFloat($second_operand.val());
            break;
        };
        $second_operand.val(result);
      });

      $('#clear_button').click(function(){
        $first_operand.val(''); // eq(number) returns a jquery object
        $operator.val('');
        $display.val('');
        

      });

    });
  </script>



  <style type="text/css">
    
    .key{
      width:98%;
      margin:2%;
    }
    h1 {
      color: red;
    }

    .display{
      width: 100%;
    
    }

    .result{
      
      width: 100%;
    }

    form {
      
      width:100%;
    }
    .container{
      max-width:150px;
      padding:0px;
      margin-top: 5%;
      border:2px;
      border-radius: 2%;
      border-color:lightgrey;
      border-style: solid;
      background-color: lightgrey;
    }

    .decimal{
      /*width:96%;*/
    }

    #clear_button{
      width:100%;
    }

    .row {
      max-width:100%;
      margin:0px;
    }

    .data{
      width:25%;
    }

    table {
      max-width: 100%;
    }

  </style>



</head> 
<body>
  <form id='calculator_form'>
    <div class= container>
      <input class = "display" type='text' name='display_textfield' placeholder='use the keypad' disabled value=''><br/>
      <input type='hidden' name='operand' value='' />
      <input type='hidden' name='operator' value='' />
      <table>
        <tr class = 'row'>
          <td class = 'data'><input type='button' class="btn btn-primary key" name='digit' value='1'></td>
          <td class = 'data'><input type='button' class="btn btn-primary key" name='digit'  value='2'></td>
          <td class = 'data'><input type='button' class="btn btn-primary key" name='digit' value='3'></td>
          <td class = 'data'><input type='button' class="btn btn-warning key" name='operator_button' value='+' /></td>
        </tr>
        <tr class = 'row'>
          <td class = 'data'><input type='button' class="btn btn-primary key" name='digit' value='4'></td>
          <td class = 'data'><input type='button' class="btn btn-primary key" name='digit' value='5'></td>
          <td class = 'data'><input type='button' class="btn btn-primary key" name='digit' value='6'></td>
          <td class = 'data'><input type='button' class="btn btn-warning key" name='operator_button' value='-' /></td>
        </tr>
        <tr class = 'row'>
          <td class = 'data'><input type='button' class="btn btn-primary key" name='digit' value='7'></td>
          <td class = 'data'><input type='button' class="btn btn-primary key" name='digit' value='8'></td>
          <td class = 'data'><input type='button' class="btn btn-primary key" name='digit' value='9'></td>
          <td class = 'data'><input type='button' class="btn btn-warning key" name='operator_button' value='/' /></td>
        </tr>
        <tr class = 'row'>
          <td class = 'data'><input type='button' class="btn btn-primary key decimal" name='digit' value='.'></td>
          <td class = 'data'><input type='button' class="btn btn-primary key" name='digit' value='0'></td>
          <td class = 'data'colspan = 2><input type='button' class="btn btn-danger row " id='clear_button' name='clear_button' value='Clear' /></td>
          </td>
        </tr>
      </table>
      <input type='button' class="btn btn-success result " id='result_button' name='result' value='='>
    
    </div>
    
  </form>
</body>
</html>